!function(t){"use strict";t((function(){function i(t){var i={font:t.find(".google-fonts-list").val(),regularweight:t.find(".google-fonts-regularweight-style").val(),mediumweight:t.find(".google-fonts-mediumweight-style").val(),boldweight:t.find(".google-fonts-boldweight-style").val(),category:t.find(".google-fonts-category").val()};t.find(".customize-control-google-font-selection").val(JSON.stringify(i)).trigger("change")}function e(t){var i;return(t=t.replace(/ /g,"")).match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)?(i=100*parseFloat(t.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)[1]).toFixed(2),i=parseInt(i)):i=100,i}function n(t,i,e,n){var a,s,c;a=i.data("a8cIris"),s=i.data("wpWpColorPicker"),a._color._alpha=t,c=a._color.toString(),i.val(c),s.toggler.css({"background-color":c}),n&&o(t,e),i.wpColorPicker("color",c)}function o(t,i){i.slider("value",t),i.find(".ui-slider-handle").text(t.toString())}t(".google-fonts-list").each((function(i,e){t(this).hasClass("select2-hidden-accessible")||t(this).select2()})),t(".google-fonts-list").on("change",(function(){var e=t(this).val(),n=t(this).parent().parent().find(".google-fonts-regularweight-style"),o=t(this).parent().parent().find(".google-fonts-mediumweight-style"),a=t(this).parent().parent().find(".google-fonts-boldweight-style"),s=t(this).attr("control-name");n.empty(),o.empty(),a.empty(),o.prop("disabled",!1),a.prop("disabled",!1);var c=_wpCustomizeSettings.controls[s],r=t.map(c.fontslist,(function(t,i){if(t.family===e)return i})),l=r[0];t.each(c.fontslist[l].variants,(function(i,e){n.append(t("<option></option>").val(e).html(e)),t(n).find('option[value="regular"]').length>0?t(n).val("regular"):t(n).find('option[value="400"]').length>0?t(n).val("400"):t(n).find('option[value="300"]').length>0&&t(n).val("300")})),t(this).parent().parent().find(".google-fonts-category").val(c.fontslist[l].category),i(t(this).parent().parent().parent().parent())})),t(".google_fonts_select_control select").on("change",(function(){i(t(this).parent().parent().parent().parent())})),t(".customize-control-knote-tabs-control").each((function(){t(this).parent().find("li").not(".section-meta").not(".customize-control-knote-tabs-control").addClass("hide-control");var i=t(this).find(".control-tab-general").data("connected");t.each(i,(function(i,e){t(this).removeClass("hide-control")})),t(this).find(".control-tab").on("click",(function(){var i=t(this).data("connected");t(this).addClass("active"),t(this).siblings().removeClass("active"),t(this).parent().parent().parent().find("li").not(".section-meta").not(".customize-control-knote-tabs-control").addClass("hide-control"),t.each(i,(function(i,e){t(this).removeClass("hide-control")}))}))})),t(".customize-control-knote-accordion").each((function(){t(this).parent().find("li").not(".section-meta").not(".customize-control-knote-accordion").addClass("hide-control"),t("#customize-control-knote_catalog_tabs").removeClass("hide-control"),t(this).on("click",(function(){t(this).find(".accordion-title").toggleClass("active");var i=t(this).find(".accordion-title").data("connected");t.each(i,(function(i,e){t(this).toggleClass("hide-control")}))}))})),t(".alpha-color-control").each((function(){var i,a,s,c,r,l,d,u,f;i=t(this),a=i.val().replace(/\s+/g,""),s=i.attr("data-palette"),c=i.attr("data-show-opacity"),r=i.attr("data-default-color"),l={change:function(t,n){var o,a,s;o=i.attr("data-customize-setting-link"),a=i.wpColorPicker("color"),r==a&&(s=e(a),u.find(".ui-slider-handle").text(s)),wp.customize(o,(function(t){t.set(a)})),d.find(".transparency").css("background-color",n.color.toString("no-alpha"))},palettes:-1!==s.indexOf("|")?s.split("|"):"false"!=s},i.wpColorPicker(l),d=i.parents(".wp-picker-container:first"),t('<div class="alpha-color-picker-container"><div class="min-click-zone click-zone"></div><div class="max-click-zone click-zone"></div><div class="alpha-slider"></div><div class="transparency"></div></div>').appendTo(d.find(".wp-picker-holder")),u=d.find(".alpha-slider"),f={create:function(i,e){var n=t(this).slider("value");t(this).find(".ui-slider-handle").text(n),t(this).siblings(".transparency ").css("background-color",a)},value:e(a),range:"max",step:1,min:0,max:100,animate:300},u.slider(f),"true"==c&&u.find(".ui-slider-handle").addClass("show-opacity"),d.find(".min-click-zone").on("click",(function(){n(0,i,u,!0)})),d.find(".max-click-zone").on("click",(function(){n(100,i,u,!0)})),d.find(".iris-palette").on("click",(function(){var n,a;o(a=e(n=t(this).css("background-color")),u),100!=a&&(n=n.replace(/[^,]+(?=\))/,(a/100).toFixed(2))),i.wpColorPicker("color",n)})),d.find(".button.wp-picker-clear").on("click",(function(){var t=i.attr("data-customize-setting-link");i.wpColorPicker("color","#ffffff"),wp.customize(t,(function(t){t.set("")})),o(100,u)})),d.find(".button.wp-picker-default").on("click",(function(){o(e(r),u)})),i.on("input",(function(){o(e(t(this).val()),u)})),u.slider().on("slide",(function(e,o){n(parseFloat(o.value)/100,i,u,!1),t(this).find(".ui-slider-handle").text(o.value)}))})),Color.prototype.toString=function(t){if("no-alpha"==t)return this.toCSS("rgba","1").replace(/\s+/g,"");if(1>this._alpha)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var i=parseInt(this._color,10).toString(16);if(this.error)return"";if(i.length<6)for(var e=6-i.length-1;e>=0;e--)i="0"+i;return"#"+i},t(".wp-picker-input-wrap").each((function(){t(this).prependTo(t(this).next(".wp-picker-holder"))}));var a=i=>{var e=t(i).closest(".dimensions-inputs").data("device-type"),n=t(i).closest(".dimensions-inputs").find(".dimensions-input"),o={unit:"px",top:"",right:"",bottom:"",left:""};return o.unit=t(i).closest(".dimensions-control").find('.dimensions-units[data-device="'+e+'"] .dimensions-unit').val(),n.each((function(){var i=t(this).data("side"),e=t(this).val();o[i]=e})),JSON.stringify(o)};t(".dimensions-control").find(".dimensions-input").on("input",(function(i){var e=t(i.target).closest(".dimensions-inputs").find(".dimensions-value"),n=a(i.target);e.val(n).trigger("change")})),t(".dimensions-control").find(".dimensions-unit").on("change",(function(i){var e=t(i.target).parent(".dimensions-units").data("device"),n=t(i.target).closest(".dimensions-control").find('[data-device-type="'+e+'"]').find(".dimensions-value"),o=a(t(i.target).closest(".dimensions-control").find('[data-device-type="'+e+'"]'));n.val(o).trigger("change")})),t(".devices-preview button").on("click",(function(){var i=t(this).attr("data-device");t(".devices-preview").find("button").removeClass("active"),t("[data-device="+i+"]").addClass("active"),t("#customize-footer-actions .devices").find(".preview-"+i).trigger("click")})),t("#customize-footer-actions button").on("click",(function(){var i=t(this).attr("data-device");t(".knote-builder-device-link").removeClass("active"),t(".devices-preview").find("button").removeClass("active"),t("[data-device="+i+"]").addClass("active"),"mobile"===i&&t('.knote-builder-device-link[data-device="tablet"]').addClass("active")})),t(".knote-builder-device-link").on("click",(function(){var i=t(this).data("device");t(".knote-builder-device-link").removeClass("active"),t("#customize-footer-actions").find("[data-device="+i+"]").trigger("click")}))}))}(jQuery);
